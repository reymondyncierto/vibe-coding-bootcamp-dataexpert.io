<?xml version="1.0" encoding="UTF-8"?>
<task_packages>
    <task_package>
        <metadata>
            <id>HEALIO-088</id>
            <title>Document Supabase Email Password Auth Setup Instructions</title>
            <domain>Developer Documentation</domain>
            <estimated_time>30 mins</estimated_time>
            <priority>high</priority>
            <status>DONE</status>
            <is_done>true</is_done>
            <verification_status>PASSED</verification_status>
            <dependencies>HEALIO-087</dependencies>
            <prd_reference>Deployment and third-party integration setup docs</prd_reference>
        </metadata>
        <context>
            <background>User requested step-by-step setup instructions for standard email/password auth instead of Google OAuth.</background>
            <files_involved>
                <file>healio/README.md</file>
                <file>healio/docs/supabase-email-password-auth-setup.md</file>
            </files_involved>
            <design_constraints>
                <constraint>Explain Supabase email provider settings, email confirmations, and local/production app URLs.</constraint>
                <constraint>Reference current Healio auth routes and behavior clearly.</constraint>
            </design_constraints>
        </context>
        <instruction>
            <step>Add a dedicated Supabase email/password auth setup guide for Healio (local + Vercel).</step>
            <step>Update README Supabase section to point to the email/password guide as the primary setup path.</step>
            <step>Keep Google OAuth docs optional/secondary if retained.</step>
            <validation_checklist>
                <check>Guide includes Supabase Auth email provider settings and confirmation options.</check>
                <check>Guide includes local and production URL examples.</check>
                <check>README links to the guide.</check>
            </validation_checklist>
        </instruction>
        <output_spec>
            <acceptance_criteria>
                <criterion>Repo includes clear step-by-step email/password auth setup instructions for Supabase + Healio.</criterion>
                <criterion>Task XML is updated with evidence and renamed `DONE_` on completion.</criterion>
            </acceptance_criteria>
            <commit_message>docs(healio-auth): add supabase email password setup guide</commit_message>
        </output_spec>
        <execution_tracking>
            <state>DONE</state>
            <is_done>true</is_done>
            <owner>agent-router -> auth-rbac-security</owner>
            <started_at>2026-02-25T01:30:20+08:00</started_at>
            <completed_at>2026-02-25T01:31:17+08:00</completed_at>
            <verification_status>PASSED</verification_status>
            <verification_command>rg route and auth flow references in healio/docs/supabase-email-password-auth-setup.md and healio/README.md</verification_command>
            <verification_notes>Added a dedicated Supabase email/password setup guide for Healio covering env vars, Supabase email provider settings, URL configuration, local/prod setup, test flow, and troubleshooting. README now points to email/password guide as the primary auth setup path and keeps Google guide optional.</verification_notes>
            <evidence>
                <item>Added file: healio/docs/supabase-email-password-auth-setup.md</item>
                <item>Updated file: healio/README.md (Supabase setup links)</item>
                <item>Task creation commit: 0fdadb4 (chore(status): add email password auth setup tasks)</item>
                <item>Docs commit: 5940533 (docs(healio-auth): add supabase email password setup guide)</item>
                <item>Reference verification: `/login`, `/signup`, `/auth/callback`, and email/password setup instructions checked in README and new guide.</item>
            </evidence>
            <completion_signal>Task is done only when state=DONE, is_done=true, completed_at is filled, verification_status=PASSED, and evidence is recorded.</completion_signal>
        </execution_tracking>
        <references>
            <agent_to_execute>auth-rbac-security</agent_to_execute>
            <estimated_complexity>low</estimated_complexity>
            <task_slug>SUPABASE_EMAIL_PASSWORD_SETUP_INSTRUCTIONS</task_slug>
        </references>
    </task_package>
</task_packages>
