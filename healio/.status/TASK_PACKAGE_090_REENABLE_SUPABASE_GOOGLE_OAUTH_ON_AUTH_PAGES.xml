<?xml version="1.0" encoding="UTF-8"?>
<task_packages>
    <task_package>
        <metadata>
            <id>HEALIO-090</id>
            <title>Re-enable Supabase Google OAuth on Login and Signup Pages</title>
            <domain>Auth and Access UX</domain>
            <estimated_time>35 mins</estimated_time>
            <priority>high</priority>
            <status>NOT_STARTED</status>
            <is_done>false</is_done>
            <verification_status>NOT_RUN</verification_status>
            <dependencies>HEALIO-087</dependencies>
            <prd_reference>Auth onboarding/login flows with multiple sign-in options</prd_reference>
        </metadata>
        <context>
            <background>User wants Google login implemented again. Current auth pages support email/password and magic link; Google OAuth was previously removed.</background>
            <files_involved>
                <file>healio/app/(auth)/login/page.tsx</file>
                <file>healio/app/(auth)/signup/page.tsx</file>
                <file>healio/app/auth/callback/route.ts</file>
            </files_involved>
            <design_constraints>
                <constraint>Keep email/password and magic link support intact while adding Google as an additional auth option.</constraint>
                <constraint>Use Supabase OAuth with provider=`google` and route through `/auth/callback` preserving safe `next` behavior.</constraint>
                <constraint>Keep auth CTA layout readable on mobile and desktop.</constraint>
            </design_constraints>
        </context>
        <instruction>
            <step>Re-add Google OAuth action(s) on `/login` and `/signup` using Supabase browser client.</step>
            <step>Update auth page copy to reflect Google availability where needed.</step>
            <step>Run `npm run typecheck`.</step>
            <step>Use Chrome DevTools MCP to verify `/login` and `/signup` render Google CTAs alongside existing auth options and no console errors occur.</step>
            <validation_checklist>
                <check>Login page includes a Google OAuth CTA wired to Supabase `signInWithOAuth({ provider: 'google' })`.</check>
                <check>Signup page includes a Google OAuth CTA wired to Supabase `signInWithOAuth({ provider: 'google' })`.</check>
                <check>Email/password and magic-link flows remain visible.</check>
                <check>Typecheck passes and MCP verification is recorded.</check>
            </validation_checklist>
        </instruction>
        <output_spec>
            <acceptance_criteria>
                <criterion>Google login is available again on Healio auth pages without regressing existing auth options.</criterion>
                <criterion>Task XML is updated with evidence and renamed `DONE_` on completion.</criterion>
            </acceptance_criteria>
            <commit_message>feat(healio-auth): re-enable supabase google oauth on auth pages</commit_message>
        </output_spec>
        <execution_tracking>
            <state>NOT_STARTED</state>
            <is_done>false</is_done>
            <owner></owner>
            <started_at></started_at>
            <completed_at></completed_at>
            <verification_status>NOT_RUN</verification_status>
            <verification_command></verification_command>
            <verification_notes></verification_notes>
            <evidence>
                <item>Record changed auth files, typecheck result, MCP verification notes, and commit refs.</item>
            </evidence>
            <completion_signal>Task is done only when state=DONE, is_done=true, completed_at is filled, verification_status=PASSED, and evidence is recorded.</completion_signal>
        </execution_tracking>
        <references>
            <agent_to_execute>auth-rbac-security</agent_to_execute>
            <estimated_complexity>low</estimated_complexity>
            <task_slug>REENABLE_SUPABASE_GOOGLE_OAUTH_ON_AUTH_PAGES</task_slug>
            <verification_tool>Chrome DevTools MCP (required for frontend task verification)</verification_tool>
            <verification_rules_ref>healio/.status/FRONTEND_VERIFICATION_RULES.xml</verification_rules_ref>
        </references>
    </task_package>
</task_packages>
