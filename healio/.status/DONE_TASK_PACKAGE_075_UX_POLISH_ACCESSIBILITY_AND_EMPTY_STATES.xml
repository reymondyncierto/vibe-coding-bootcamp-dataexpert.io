<?xml version='1.0' encoding='utf-8'?>
<task_packages>
    <task_package>
        <metadata>
            <id>HEALIO-075</id>
            <title>Final UX Polish Pass (Accessibility, Responsive Behavior, Empty States, Loading States)</title>
            <domain>Frontend Polish</domain>
            <estimated_time>45 mins</estimated_time>
            <priority>high</priority>
            <status>DONE</status>
            <is_done>true</is_done>
            <verification_status>PASSED</verification_status>
            <dependencies>HEALIO-029, HEALIO-030, HEALIO-031, HEALIO-038, HEALIO-039, HEALIO-040, HEALIO-041, HEALIO-049, HEALIO-050, HEALIO-059, HEALIO-064, HEALIO-067</dependencies>
            <prd_reference>5 Frontend Design Guidelines + user Healio UI pillars</prd_reference>
        </metadata>
        <context>
            <background>This task implements Final UX Polish Pass (Accessibility, Responsive Behavior, Empty States, Loading States) for Healio and is scoped as one atomic work item aligned to the PRD. It should be completed within 45 mins and leave clear evidence for follow-on tasks.</background>
            <files_involved>
                <file>healio/app/(dashboard)</file>
                <file>healio/app/(public)</file>
                <file>healio/components</file>
                <file>healio/styles/globals.css</file>
            </files_involved>
            <related_api_endpoints>
                <endpoint>none</endpoint>
            </related_api_endpoints>
            <design_constraints>
                <constraint>Use Stripe-like frictionless workflows: create/edit actions should open centered modals or slide-out drawers instead of disruptive full-page forms.</constraint>
                <constraint>Use a Viedoc-style bento layout: soft floating white cards on an off-white background for dashboards and dense data views.</constraint>
                <constraint>Apply the Paper Replacement palette: app background near #F9FAFB, white cards, calm trustworthy accents (teal/sage/cerulean), and reserve red for critical alerts only.</constraint>
                <constraint>Preserve high-legibility typography: clean sans-serif (Inter/SF Pro/Halyard), bold patient names, slate-gray secondary metadata.</constraint>
                <constraint>Honor the one-click rule where applicable: keep the global + action for Add Appointment, Add Patient, and Create Invoice visible and easy to reach.</constraint>
                <constraint>Add educational empty states with clear CTAs for first-time or empty datasets.</constraint>
            </design_constraints>
        </context>
        <instruction>
            <step>Implement the scoped changes for Final UX Polish Pass (Accessibility, Responsive Behavior, Empty States, Loading States) in the planned files (healio/app/(dashboard), healio/app/(public), healio/components, healio/styles/globals.css) while preserving the PRD-aligned project structure.</step>
            <step>Apply validation, error handling, and consistent response/UI behavior so the task output integrates cleanly with existing helpers and patterns.</step>
            <step>Wire integrations and dependencies for this task (endpoints: none) and keep tenant scoping/RBAC/security expectations intact where applicable.</step>
            <step>Prefer in-context modal/drawer workflows, scannable bento cards, and educational empty states so the UI matches the requested Healio experience.</step>
            <step>Verify keyboard/focus behavior, touch target sizing, and mobile responsiveness before marking the task ready.</step>
            <validation_checklist>
                <check>Run lint/typecheck or the smallest relevant test suite for the files changed by this task.</check>
                <check>Manually verify desktop and mobile layouts plus focus/keyboard behavior for the primary interaction path.</check>
                <check>Use Chrome DevTools MCP to verify the implemented UI in-browser (desktop + mobile), check interactions, inspect console errors, and capture a validation snapshot before marking done.</check><check>Capture a screenshot or short note confirming empty/loading/error states are present where applicable.</check>
            </validation_checklist>
        </instruction>
        <output_spec>
            <artifacts>
                <artifact>Next.js page/component updates</artifact>
            </artifacts>
            <acceptance_criteria>
                <criterion>The deliverable for Final UX Polish Pass (Accessibility, Responsive Behavior, Empty States, Loading States) is implemented in the referenced files and compiles without breaking adjacent modules.</criterion>
                <criterion>Task output matches the PRD scope (5 Frontend Design Guidelines + user Healio UI pillars) and remains bounded to an atomic &lt;=45-minute implementation chunk.</criterion>
                <criterion>UI states (loading, empty, error, success) are present and visually consistent with Healio bento cards, off-white background, and trust-oriented styling.</criterion>
                <criterion>Interactions are keyboard accessible and usable on mobile without disruptive navigation when a modal/drawer workflow is appropriate.</criterion>
            </acceptance_criteria>
            <commit_message>refactor(healio): ux polish accessibility and empty states</commit_message>
        </output_spec>
        <execution_tracking>
            <state>DONE</state>
            <is_done>true</is_done>
            <owner>frontend-design-system-shell</owner>
            <started_at>2026-02-24T23:54:36+08:00</started_at>
            <completed_at>2026-02-24T23:54:36+08:00</completed_at>
            <verification_status>PASSED</verification_status>
            <verification_command>npm run typecheck; Chrome DevTools MCP snapshots/interactions on /appointments, /billing, /patients, /book/northview-clinic (desktop + mobile)</verification_command>
            <verification_notes>Polished dashboard UX and accessibility by correcting shell navigation to real routes (`/appointments`, `/patients`, `/billing`, `/analytics`, `/settings`), adding `aria-current` to nav links, dynamic header title/subtitle copy by route, stronger tab semantics on appointments view, `aria-busy` and live-region semantics for invoice/patient list loading/empty/error states, and quick-action menu `menu/menuitem` + expanded/controls semantics. Public booking form error feedback now announces via `role=alert`. Chrome DevTools MCP verified desktop and mobile layouts, empty states, quick-action menu open/close with Escape, and shell navigation labels. Public booking console/network 500s were observed intentionally while checking error-state rendering for an unavailable clinic slug.</verification_notes>
            <evidence>
                <item>When work starts/completes, record changed files, test commands, screenshots (UI tasks), and commit/PR references here.</item>
            <item>Include Chrome DevTools MCP evidence (snapshot/screenshot reference and notes on responsive + interaction checks) here before marking frontend tasks complete.</item><item>Changed files: healio/components/layout/sidebar.tsx, healio/components/layout/mobile-nav.tsx, healio/components/layout/header.tsx, healio/components/layout/global-quick-action.tsx, healio/app/(dashboard)/appointments/page.tsx, healio/app/(dashboard)/billing/page.tsx, healio/components/patients/patient-list.tsx, healio/components/billing/invoice-list.tsx, healio/components/appointments/public-booking-patient-form.tsx.</item><item>Chrome DevTools MCP evidence: desktop snapshot on `/appointments` shows sidebar with corrected real-route links and dynamic header; mobile snapshots on `/patients` and `/billing` show empty-state `status` regions and bottom nav labels/routes.</item><item>Chrome DevTools MCP interaction checks: quick action FAB opens `menu` with `menuitem` actions and closes via `Escape`; mobile and desktop route pages render without layout overflow.</item><item>Console check: only dev Fast Refresh/React DevTools messages, plus expected 500 resource errors during intentional `/book/northview-clinic` error-state verification.</item><item>Typecheck passed after UI polish changes: `npm run typecheck`.</item><item>Feature commit: 8a7ca50 (refactor(healio): ux polish accessibility and empty states).</item></evidence>
            <completion_signal>Task is done only when state=DONE, is_done=true, completed_at is filled, verification_status=PASSED, and evidence records changed files/tests/screenshots as applicable.</completion_signal>
        </execution_tracking>
        <references>
            <agent_to_execute>Full-Stack Next.js Engineer</agent_to_execute>
            <estimated_complexity>medium</estimated_complexity>
            <blocks_on>HEALIO-029, HEALIO-030, HEALIO-031, HEALIO-038, HEALIO-039, HEALIO-040, HEALIO-041, HEALIO-049, HEALIO-050, HEALIO-059, HEALIO-064, HEALIO-067</blocks_on>
            <task_slug>UX_POLISH_ACCESSIBILITY_AND_EMPTY_STATES</task_slug>
        <verification_tool>Chrome DevTools MCP (required for frontend task verification)</verification_tool><verification_rules_ref>healio/.status/FRONTEND_VERIFICATION_RULES.xml</verification_rules_ref></references>
    </task_package>
</task_packages>
